<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Albertsons for U‚Ñ¢ - Agent Desktop Widget Test</title><style>body {
            margin: 0;
            padding: 20px;
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: #f0f2f5;
        }
        
        .test-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .top-bar {
            background: linear-gradient(135deg, #003DA5 0%, #0052cc 100%);
            color: white;
            padding: 28px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0,61,165,0.3);
            margin-bottom: 20px;
        }
        
        h1 {
            color: white;
            margin: 0 0 8px 0;
            font-size: 32px;
            font-weight: 700;
        }

        .subtitle {
            color: rgba(255,255,255,0.9);
            margin: 0 0 16px 0;
            font-size: 18px;
        }

        .brand-info {
            font-size: 14px;
            opacity: 0.85;
        }
        
        .controls {
            background: white;
            padding: 24px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .controls h2 {
            margin-top: 0;
            font-size: 22px;
            color: #003DA5;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .control-section {
            margin-bottom: 28px;
        }

        .control-section h3 {
            font-size: 16px;
            color: #4b5563;
            margin: 0 0 14px 0;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 12px;
        }
        
        button {
            padding: 14px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 700;
            transition: all 0.2s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        button:active {
            transform: translateY(0);
        }
        
        .btn-primary {
            background: #003DA5;
            color: white;
        }
        
        .btn-primary:hover {
            background: #002d7a;
        }

        .btn-success {
            background: #00A651;
            color: white;
        }

        .btn-success:hover {
            background: #008542;
        }

        .btn-warning {
            background: #FF6A13;
            color: white;
        }

        .btn-warning:hover {
            background: #e55a0a;
        }

        .btn-info {
            background: #0ea5e9;
            color: white;
        }

        .btn-info:hover {
            background: #0284c7;
        }

        .layout-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
        }
        
        .widget-container {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .info-panel {
            background: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .info-panel h3 {
            margin-top: 0;
            color: #003DA5;
            font-size: 20px;
            font-weight: 700;
        }

        .scenario-card {
            background: #f8f9fa;
            padding: 18px;
            border-radius: 10px;
            margin-bottom: 14px;
            border-left: 4px solid #003DA5;
        }

        .scenario-card h4 {
            margin: 0 0 8px 0;
            color: #1f2937;
            font-size: 16px;
            font-weight: 700;
        }

        .scenario-card p {
            margin: 0;
            color: #6b7280;
            font-size: 14px;
            line-height: 1.6;
        }

        .log-section {
            background: #1f2937;
            color: #e5e7eb;
            padding: 18px;
            border-radius: 10px;
            margin-top: 24px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            max-height: 320px;
            overflow-y: auto;
        }

        .log-section h4 {
            margin: 0 0 14px 0;
            color: #f3f4f6;
            font-weight: 700;
        }

        .log-entry {
            padding: 6px 0;
            border-bottom: 1px solid #374151;
        }

        .log-entry:last-child {
            border-bottom: none;
        }

        .log-timestamp {
            color: #9ca3af;
            margin-right: 8px;
        }

        .log-type {
            color: #60a5fa;
            margin-right: 8px;
            font-weight: bold;
        }

        .tech-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 6px 14px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            margin-right: 8px;
            margin-bottom: 8px;
        }

        @media (max-width: 1200px) {
            .layout-container {
                grid-template-columns: 1fr;
            }
        }</style><script defer="defer" src="agent-desktop-component.js"></script></head><body><div class="test-container"><div class="top-bar"><h1>üõí Albertsons for U‚Ñ¢ - Agent Desktop Widget</h1><p class="subtitle">Grocery Rewards & Customer Loyalty Management</p><div class="brand-info"><span class="tech-badge">React 18</span> <span class="tech-badge">Albertsons Branded</span> <span class="tech-badge">for U‚Ñ¢ Rewards</span> <span class="tech-badge">Real-time Points</span></div></div><div class="controls"><h2>üéÆ Customer Service Scenarios</h2><div class="control-section"><h3>üìû Incoming Customer Calls</h3><div class="button-grid"><button class="btn-primary" onclick="simulateRegularMember()">Active for U‚Ñ¢ Member</button> <button class="btn-primary" onclick="simulateFreshPassMember()">FreshPass¬Æ Subscriber</button> <button class="btn-primary" onclick="simulateNewMember()">New Member Signup</button> <button class="btn-warning" onclick="simulatePointsInquiry()">Points Balance Inquiry</button></div></div><div class="control-section"><h3>‚ö° Agent Actions</h3><div class="button-grid"><button class="btn-success" onclick="simulateAgentAvailable()">Agent Available</button> <button class="btn-info" onclick="simulateAgentBusy()">Agent Busy</button> <button class="btn-success" onclick="simulateRewardRedemption()">Redeem Reward</button> <button class="btn-success" onclick="simulateBonusPoints()">Add Bonus Points</button></div></div><div class="control-section"><h3>üîÑ System Events</h3><div class="button-grid"><button class="btn-info" onclick="simulateReady()">System Ready</button> <button class="btn-info" onclick="refreshCustomerData()">Refresh Data</button> <button class="btn-warning" onclick="clearLogs()">Clear Event Logs</button></div></div></div><div class="layout-container"><div class="widget-container"><agent-desktop-widget></agent-desktop-widget></div><div class="info-panel"><h3>üìã Customer Service Scenarios</h3><div class="scenario-card"><h4>üõí Active for U‚Ñ¢ Member</h4><p>Regular customer Maria Rodriguez with 4,850 points. Help her redeem rewards and check her purchase history.</p></div><div class="scenario-card"><h4>üöö FreshPass¬Æ Subscriber</h4><p>Customer with unlimited free delivery. Review membership benefits and address any delivery questions.</p></div><div class="scenario-card"><h4>üÜï New Member</h4><p>First-time for U‚Ñ¢ enrollment. Explain points program, welcome offer, and app benefits.</p></div><div class="scenario-card"><h4>üí∞ Points Inquiry</h4><p>Customer asking about points balance and available rewards. Show redemption options.</p></div><div class="scenario-card"><h4>üéÅ Weekly Ad & Coupons</h4><p>Help customer find deals, clip digital coupons, and view current promotional offers.</p></div><div class="log-section"><h4>üì° System Event Log</h4><div id="event-log"></div></div></div></div></div><script src="agent-desktop-component.js"></script><script>const eventLog = document.getElementById('event-log');
        
        // Listen for messages from the component
        window.addEventListener('message', (event) => {
            logEvent('RECEIVED', event.data);
        });

        function logEvent(type, data) {
            const timestamp = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.innerHTML = `
                <span class="log-timestamp">[${timestamp}]</span>
                <span class="log-type">${type}:</span>
                ${JSON.stringify(data, null, 2)}
            `;
            eventLog.insertBefore(entry, eventLog.firstChild);
            
            // Keep only last 20 entries
            while (eventLog.children.length > 20) {
                eventLog.removeChild(eventLog.lastChild);
            }
        }

        function sendEvent(type, data) {
            logEvent('SENT', { type, data });
            window.postMessage({ type, data }, '*');
        }

        function simulateRegularMember() {
            sendEvent('agentContact:interaction', {
                id: 'int-' + Math.random().toString(36).substr(2, 9),
                mediaType: 'telephony',
                ani: '+15556789012',  // Maria Rodriguez
                direction: 'inbound',
                customerName: 'Maria Rodriguez',
                customerId: 'ALB-89432',
                memberType: 'for U',
                timestamp: new Date().toISOString()
            });
        }

        function simulateFreshPassMember() {
            sendEvent('agentContact:interaction', {
                id: 'int-' + Math.random().toString(36).substr(2, 9),
                mediaType: 'telephony',
                ani: '+15552345678',  // James Thompson
                direction: 'inbound',
                customerName: 'James Thompson',
                customerId: 'ALB-54821',
                memberType: 'FreshPass',
                hasFreshPass: true,
                points: 12450,
                timestamp: new Date().toISOString()
            });
        }

        function simulateNewMember() {
            sendEvent('agentContact:interaction', {
                id: 'int-' + Math.random().toString(36).substr(2, 9),
                mediaType: 'telephony',
                ani: '+15559876543',  // Sarah Chen
                direction: 'inbound',
                customerName: 'Sarah Chen',
                customerId: 'ALB-12345',
                isNewMember: false,
                enrollingForU: false,
                timestamp: new Date().toISOString()
            });
        }

        function simulatePointsInquiry() {
            sendEvent('agentContact:interaction', {
                id: 'int-' + Math.random().toString(36).substr(2, 9),
                mediaType: 'telephony',
                ani: '+15554567890',  // Robert Martinez
                direction: 'inbound',
                customerName: 'Robert Martinez',
                customerId: 'ALB-67890',
                inquiryType: 'points',
                question: 'How many points do I have?',
                timestamp: new Date().toISOString()
            });
        }

        function simulateAgentAvailable() {
            sendEvent('agentContact:stateChange', {
                state: 'Available',
                team: 'Customer Service - Grocery',
                agentId: 'agent-albertsons-001',
                agentName: 'Sarah Martinez',
                department: 'for U Support',
                timestamp: new Date().toISOString()
            });
        }

        function simulateAgentBusy() {
            sendEvent('agentContact:stateChange', {
                state: 'Busy',
                team: 'Customer Service - Grocery',
                agentId: 'agent-albertsons-001',
                agentName: 'Sarah Martinez',
                department: 'for U Support',
                timestamp: new Date().toISOString()
            });
        }

        function simulateRewardRedemption() {
            sendEvent('foru:rewardRedeemed', {
                customerId: 'ALB-89432',
                reward: 'Free Lucerne Dairy Item',
                pointsUsed: 300,
                timestamp: new Date().toISOString()
            });
        }

        function simulateBonusPoints() {
            sendEvent('foru:pointsAdded', {
                customerId: 'ALB-89432',
                pointsAdded: 100,
                reason: 'Customer satisfaction - delayed delivery',
                timestamp: new Date().toISOString()
            });
        }

        function simulateReady() {
            sendEvent('agentContact:ready', {
                system: 'Albertsons for U Widget',
                version: '2.0.0',
                timestamp: new Date().toISOString()
            });
        }

        function refreshCustomerData() {
            sendEvent('widget:refreshData', {
                customerId: 'ALB-89432',
                requestType: 'full_profile',
                timestamp: new Date().toISOString()
            });
        }

        function clearLogs() {
            eventLog.innerHTML = '';
            logEvent('SYSTEM', { message: 'Event logs cleared' });
        }

        // Auto-simulate ready event on load
        setTimeout(() => {
            console.log('Simulating Agent Desktop ready event...');
            simulateReady();
        }, 1000);

        // Auto-simulate incoming call after 2 seconds
        setTimeout(() => {
            console.log('Simulating incoming for U member call...');
            simulateRegularMember();
        }, 2500);</script></body></html>